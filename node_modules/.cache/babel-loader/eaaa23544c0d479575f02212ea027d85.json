{"ast":null,"code":"import _objectSpread from\"C:\\\\Study\\\\React\\\\management\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Study\\\\React\\\\management\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import*as types from'./../constants/actionType';import _ from'lodash';var data=JSON.parse(localStorage.getItem(\"tasks\"));var initialState=data?data:[];var UniqueID=function UniqueID(){return'_'+Math.random().toString(36).substr(2,9);};var myReducer=function myReducer(){var tasks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case types.LIST_ALL:return tasks;case types.ADD_TASK:{var newTask={id:UniqueID(),name:action.task.name,status:action.task.status};tasks.push(newTask);localStorage.setItem(\"tasks\",JSON.stringify(tasks));return _toConsumableArray(tasks);}case types.UPDATE_STATUS:{var index=_.findIndex(tasks,function(o){console.log(o.id);return o.id===action.id;});if(index!==-1){tasks[index]=_objectSpread(_objectSpread({},tasks[index]),{},{status:!tasks[index].status});}localStorage.setItem(\"tasks\",JSON.stringify(tasks));return _toConsumableArray(tasks);}case types.DELETE_TASK:{var index=_.findIndex(tasks,function(o){console.log(o.id);return o.id===action.id;});if(index!==-1){tasks.splice(index,1);}localStorage.setItem(\"tasks\",JSON.stringify(tasks));return _toConsumableArray(tasks);}case types.UPDATE_TASK:{var index=_.findIndex(tasks,function(o){console.log(o.id);return o.id===action.task.id;});if(index!==-1){tasks[index]=_objectSpread(_objectSpread({},tasks[index]),{},{name:action.task.name,status:action.task.status});}localStorage.setItem(\"tasks\",JSON.stringify(tasks));return _toConsumableArray(tasks);}default:return tasks;}};export default myReducer;","map":{"version":3,"sources":["C:/Study/React/management/src/reducers/tasks.js"],"names":["types","_","data","JSON","parse","localStorage","getItem","initialState","UniqueID","Math","random","toString","substr","myReducer","tasks","action","type","LIST_ALL","ADD_TASK","newTask","id","name","task","status","push","setItem","stringify","UPDATE_STATUS","index","findIndex","o","console","log","DELETE_TASK","splice","UPDATE_TASK"],"mappings":"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","sourcesContent":["import * as types from './../constants/actionType'\r\nimport _ from 'lodash';\r\nvar data = JSON.parse(localStorage.getItem(\"tasks\"));\r\nvar initialState = data? data : [];\r\n\r\nconst UniqueID = () => {\r\n    return '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\nvar myReducer = (tasks = initialState, action)=>{\r\n    \r\n    switch(action.type){\r\n        case types.LIST_ALL:\r\n            return tasks;\r\n        case types.ADD_TASK:{\r\n            var newTask = {\r\n                id: UniqueID(),\r\n                name: action.task.name,\r\n                status: action.task.status\r\n            }\r\n            tasks.push(newTask); \r\n            localStorage.setItem(\"tasks\",JSON.stringify(tasks));\r\n            return [...tasks];\r\n        }\r\n        case types.UPDATE_STATUS: {\r\n            var index = _.findIndex(tasks, (o)=> { \r\n                console.log(o.id)\r\n                return o.id === action.id; });\r\n            \r\n            if(index !== -1){\r\n                tasks[index] = {\r\n                    ...tasks[index],\r\n                    status: !tasks[index].status\r\n                }\r\n            }\r\n    \r\n            localStorage.setItem(\"tasks\",JSON.stringify(tasks));\r\n            return [...tasks];\r\n        }\r\n        case types.DELETE_TASK: {\r\n            var index = _.findIndex(tasks, (o)=> { \r\n                console.log(o.id)\r\n                return o.id === action.id; });\r\n            \r\n            if(index !== -1){\r\n                tasks.splice(index, 1)\r\n            }\r\n    \r\n            localStorage.setItem(\"tasks\",JSON.stringify(tasks));\r\n            return [...tasks];\r\n        }\r\n        case types.UPDATE_TASK: {\r\n            var index = _.findIndex(tasks, (o)=> { \r\n                console.log(o.id)\r\n                return o.id === action.task.id; });\r\n            \r\n            if(index !== -1){\r\n                tasks[index] = {\r\n                    ...tasks[index],\r\n                    name: action.task.name,\r\n                    status: action.task.status\r\n                }\r\n            }\r\n    \r\n            localStorage.setItem(\"tasks\",JSON.stringify(tasks));\r\n            return [...tasks];\r\n        }\r\n        default:\r\n            return tasks;\r\n    }\r\n}\r\n\r\n\r\nexport default myReducer;"]},"metadata":{},"sourceType":"module"}