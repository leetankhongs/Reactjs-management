{"ast":null,"code":"import * as types from './../constants/actionType';\nimport _ from 'lodash';\nvar data = JSON.parse(localStorage.getItem(\"tasks\"));\nvar initialState = data ? data : [];\n\nconst UniqueID = () => {\n  return '_' + Math.random().toString(36).substr(2, 9);\n};\n\nvar myReducer = (tasks = initialState, action) => {\n  switch (action.type) {\n    case types.LIST_ALL:\n      return tasks;\n\n    case types.ADD_TASK:\n      {\n        var newTask = {\n          id: UniqueID(),\n          name: action.task.name,\n          status: action.task.status\n        };\n        tasks.push(newTask);\n        localStorage.setItem(\"tasks\", JSON.stringify(tasks));\n        return [...tasks];\n      }\n\n    case types.UPDATE_STATUS:\n      {\n        var index = _.findIndex(tasks, o => {\n          return o.id === action.id;\n        });\n\n        if (index !== -1) {\n          tasks[index].status = !tasks[index].status;\n        }\n\n        localStorage.setItem(\"tasks\", JSON.stringify(tasks));\n        return [...tasks];\n      }\n\n    default:\n      return tasks;\n  }\n};\n\nexport default myReducer;","map":{"version":3,"sources":["C:/Study/React/management/src/reducers/tasks.js"],"names":["types","_","data","JSON","parse","localStorage","getItem","initialState","UniqueID","Math","random","toString","substr","myReducer","tasks","action","type","LIST_ALL","ADD_TASK","newTask","id","name","task","status","push","setItem","stringify","UPDATE_STATUS","index","findIndex","o"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,2BAAvB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAX;AACA,IAAIC,YAAY,GAAGL,IAAI,GAAEA,IAAF,GAAS,EAAhC;;AAEA,MAAMM,QAAQ,GAAG,MAAM;AACnB,SAAO,MAAMC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,EAAqC,CAArC,CAAb;AACH,CAFD;;AAIA,IAAIC,SAAS,GAAG,CAACC,KAAK,GAAGP,YAAT,EAAuBQ,MAAvB,KAAgC;AAE5C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKhB,KAAK,CAACiB,QAAX;AACI,aAAOH,KAAP;;AACJ,SAAKd,KAAK,CAACkB,QAAX;AAAoB;AAChB,YAAIC,OAAO,GAAG;AACVC,UAAAA,EAAE,EAAEZ,QAAQ,EADF;AAEVa,UAAAA,IAAI,EAAEN,MAAM,CAACO,IAAP,CAAYD,IAFR;AAGVE,UAAAA,MAAM,EAAER,MAAM,CAACO,IAAP,CAAYC;AAHV,SAAd;AAKAT,QAAAA,KAAK,CAACU,IAAN,CAAWL,OAAX;AACAd,QAAAA,YAAY,CAACoB,OAAb,CAAqB,OAArB,EAA6BtB,IAAI,CAACuB,SAAL,CAAeZ,KAAf,CAA7B;AACA,eAAO,CAAC,GAAGA,KAAJ,CAAP;AACH;;AACD,SAAKd,KAAK,CAAC2B,aAAX;AAA0B;AACtB,YAAIC,KAAK,GAAG3B,CAAC,CAAC4B,SAAF,CAAYf,KAAZ,EAAoBgB,CAAD,IAAM;AAAE,iBAAOA,CAAC,CAACV,EAAF,KAASL,MAAM,CAACK,EAAvB;AAA4B,SAAvD,CAAZ;;AAEA,YAAGQ,KAAK,KAAK,CAAC,CAAd,EAAgB;AACZd,UAAAA,KAAK,CAACc,KAAD,CAAL,CAAaL,MAAb,GAAsB,CAACT,KAAK,CAACc,KAAD,CAAL,CAAaL,MAApC;AACH;;AACDlB,QAAAA,YAAY,CAACoB,OAAb,CAAqB,OAArB,EAA6BtB,IAAI,CAACuB,SAAL,CAAeZ,KAAf,CAA7B;AACA,eAAO,CAAC,GAAGA,KAAJ,CAAP;AACH;;AACD;AACI,aAAOA,KAAP;AAvBR;AAyBH,CA3BD;;AA8BA,eAAeD,SAAf","sourcesContent":["import * as types from './../constants/actionType'\r\nimport _ from 'lodash';\r\nvar data = JSON.parse(localStorage.getItem(\"tasks\"));\r\nvar initialState = data? data : [];\r\n\r\nconst UniqueID = () => {\r\n    return '_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n\r\nvar myReducer = (tasks = initialState, action)=>{\r\n    \r\n    switch(action.type){\r\n        case types.LIST_ALL:\r\n            return tasks;\r\n        case types.ADD_TASK:{\r\n            var newTask = {\r\n                id: UniqueID(),\r\n                name: action.task.name,\r\n                status: action.task.status\r\n            }\r\n            tasks.push(newTask); \r\n            localStorage.setItem(\"tasks\",JSON.stringify(tasks));\r\n            return [...tasks];\r\n        }\r\n        case types.UPDATE_STATUS: {\r\n            var index = _.findIndex(tasks, (o)=> { return o.id === action.id; });\r\n            \r\n            if(index !== -1){\r\n                tasks[index].status = !tasks[index].status\r\n            }\r\n            localStorage.setItem(\"tasks\",JSON.stringify(tasks));\r\n            return [...tasks];\r\n        }\r\n        default:\r\n            return tasks;\r\n    }\r\n}\r\n\r\n\r\nexport default myReducer;"]},"metadata":{},"sourceType":"module"}